
<!-- <!DOCTYPE html> -->
<!-- <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"> -->
<!-- three.js library -->
<!-- <script src='three.js'></script> -->

<!-- <script src="ar.js"></script> -->

<!-- <script src="js/OBJLoader.js"></script> -->
<!-- <script src="js/MTLLoader.js"></script> -->

<!-- <script>THREEx.ArToolkitContext.baseURL = ''</script> -->

<!-- <body style='margin : 0px; overflow: hidden; font-family: Monospace;'> -->

	<!-- <div style='position: absolute; top: 10px; width:100%; text-align: center; z-index: 1;'></div> -->

  <!-- <script src="js/main.js"></script> -->
  <!-- <script src="js/innovate.js"></script> -->
  <!-- <script src="js/cube.js"></script> -->

<!-- </body> -->

<html>
<head>
<title>Pattern marker example with Three.js</title>
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
<style>
html,body { margin: 0; padding: 0; width: 100%; text-align: center; overflow-x: hidden; }
.portrait canvas { transform-origin: 0 0; transform: rotate(-90deg) translateX(-100%); }
.desktop canvas { transform: scale(-1, 1); }
</style>
</head>
<body>

<script defer src='//rawcdn.githack.com/artoolkit/jsartoolkit5/77733182a4c519b8e683cbf246a22920d94f3deb/build/artoolkit.min.js'></script>
<script defer src='//rawcdn.githack.com/mrdoob/three.js/r84/build/three.min.js'></script>
<script defer src='//rawcdn.githack.com/artoolkit/jsartoolkit5/77733182a4c519b8e683cbf246a22920d94f3deb/js/artoolkit.three.js'></script>
<script defer src='//rawcdn.githack.com/mrdoob/three.js/288709543605a598a99e45a9c9bc1c388e0df76e/examples/js/loaders/GLTF2Loader.js'></script>

<script defer>
  window.ARThreeOnLoad = function() {
    ARController.getUserMediaThreeScene({maxARVideoSize: 320, cameraParam: 'image/camera_para.dat',
      onSuccess: function(arScene, arController, arCamera) {
        var scene = new THREE.Scene();
        var renderer = new THREE.WebGLRenderer({
          antialias: true,
        });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.body.appendChild(renderer.domElement);

        var ambient = new THREE.AmbientLight(0x222222);
        ambient.intensity = 5;
        arScene.scene.add(ambient);

        // Instantiate a loader
        // var loader = new THREE.GLTF2Loader();
        // Load a glTF resource
        // var url = './models/model.gltf';
        // loader.load(url, function (gltf) {
        //   sphere = gltf.scene || gltf.scenes[0];
        //   sphere.rotation.x = 90 * (Math.PI / 180);
        //   sphere.rotation.y = 270 * (Math.PI / 180);
        //   sphere.rotation.z = 0 * (Math.PI / 180);

        var mtlLoader = new THREE.MTLLoader();
mtlLoader.setPath('./image');
mtlLoader.setCrossOrigin('anonymous');
mtlLoader.load('bg4.mtl', function (materials) {
  materials.preload();
  var objLoader = new THREE.OBJLoader();
  objLoader.setMaterials(materials);
  objLoader.setPath('./image');
  objLoader.load('bg4.obj', function (object) {
    object.position.y = 0.7;
    scene.add(object);
    onRenderFcts.push(function () {
      object.rotation.y += 0.01;
    });
  });
});

          arController.loadMarker('image/pattern-letterA.patt', function(markerId) {
            var markerRoot = arController.createThreeMarker(markerId);
            markerRoot.add(sphere);
            arScene.scene.add(markerRoot);
          });

        });

        var tick = function() {
          arScene.process();
          arScene.renderOn(renderer);
          requestAnimationFrame(tick);
        };
        tick();
      }
    });
    delete window.ARThreeOnLoad;
  };

  if (window.ARController && ARController.getUserMediaThreeScene) {
    ARThreeOnLoad();
  }
</script>

</body>
</html>